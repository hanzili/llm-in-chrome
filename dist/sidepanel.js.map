{"version":3,"file":"sidepanel.js","sources":["../node_modules/preact/dist/preact.module.js","../node_modules/preact/jsx-runtime/dist/jsxRuntime.module.js","../node_modules/preact/hooks/dist/hooks.module.js","../src/sidepanel-preact/config/providers.js","../src/sidepanel-preact/hooks/useConfig.js","../src/sidepanel-preact/hooks/useChat.js","../src/sidepanel-preact/components/Header.jsx","../src/sidepanel-preact/utils/format.js","../src/sidepanel-preact/components/Message.jsx","../src/sidepanel-preact/components/StepsSection.jsx","../src/sidepanel-preact/components/MessageList.jsx","../src/sidepanel-preact/components/InputArea.jsx","../src/sidepanel-preact/components/SettingsModal.jsx","../src/sidepanel-preact/components/PlanModal.jsx","../src/sidepanel-preact/components/EmptyState.jsx","../src/sidepanel-preact/App.jsx","../src/sidepanel-preact/main.jsx"],"sourcesContent":["var n,l,u,t,i,o,r,e,f,c,s,a,h,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,d=Array.isArray;function w(n,l){for(var u in l)n[u]=l[u];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,u,t){var i,o,r,e={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=u[r];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===e[r]&&(e[r]=l.defaultProps[r]);return m(l,e,i,o,null)}function m(n,t,i,o,r){var e={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||o!=l.debounceRendering)&&((o=l.debounceRendering)||r)($)}function $(){for(var n,u,t,o,r,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(t=void 0,o=void 0,r=(o=(u=n).__v).__e,f=[],c=[],u.__P&&((t=w({},o)).__v=o.__v+1,l.vnode&&l.vnode(t),O(u.__P,t,o,u.__n,u.__P.namespaceURI,32&o.__u?[r]:null,f,null==r?S(o):r,!!(32&o.__u),c),t.__v=o.__v,t.__.__k[t.__i]=t,N(f,t,c),o.__e=o.__=null,t.__e!=r&&C(t)));$.__r=0}function I(n,l,u,t,i,o,r,e,f,c,s){var a,h,y,d,w,g,_,m=t&&t.__k||v,b=l.length;for(f=P(u,l,m,f,b),a=0;a<b;a++)null!=(y=u.__k[a])&&(h=-1==y.__i?p:m[y.__i]||p,y.__i=a,g=O(n,y,h,i,o,r,e,f,c,s),d=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&B(h.ref,null,y),s.push(y.ref,y.__c||d,y)),null==w&&null!=d&&(w=d),(_=!!(4&y.__u))||h.__k===y.__k?f=A(y,f,n,_):\"function\"==typeof y.type&&void 0!==g?f=g:d&&(f=d.nextSibling),y.__u&=-7);return u.__e=w,f}function P(n,l,u,t,i){var o,r,e,f,c,s=u.length,a=s,h=0;for(n.__k=new Array(i),o=0;o<i;o++)null!=(r=l[o])&&\"boolean\"!=typeof r&&\"function\"!=typeof r?(\"string\"==typeof r||\"number\"==typeof r||\"bigint\"==typeof r||r.constructor==String?r=n.__k[o]=m(null,r,null,null,null):d(r)?r=n.__k[o]=m(k,{children:r},null,null,null):void 0===r.constructor&&r.__b>0?r=n.__k[o]=m(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):n.__k[o]=r,f=o+h,r.__=n,r.__b=n.__b+1,e=null,-1!=(c=r.__i=L(r,u,f,a))&&(a--,(e=u[c])&&(e.__u|=2)),null==e||null==e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof r.type&&(r.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,r.__u|=4))):n.__k[o]=null;if(a)for(o=0;o<s;o++)null!=(e=u[o])&&0==(2&e.__u)&&(e.__e==t&&(t=S(e)),D(e,e));return t}function A(n,l,u,t){var i,o;if(\"function\"==typeof n.type){for(i=n.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=n,l=A(i[o],l,u,t));return l}n.__e!=l&&(t&&(l&&n.type&&!l.parentNode&&(l=S(n)),u.insertBefore(n.__e,l||null)),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(d(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,u,t){var i,o,r,e=n.key,f=n.type,c=l[u],s=null!=c&&0==(2&c.__u);if(null===c&&null==e||s&&e==c.key&&f==c.type)return u;if(t>(s?1:0))for(i=u-1,o=u+1;i>=0||o<l.length;)if(null!=(c=l[r=i>=0?i--:o++])&&0==(2&c.__u)&&e==c.key&&f==c.type)return r;return-1}function T(n,l,u){\"-\"==l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||y.test(l)?u:u+\"px\"}function j(n,l,u,t,i){var o,r;n:if(\"style\"==l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||T(n.style,l,\"\");if(u)for(l in u)t&&u[l]==t[l]||T(n.style,l,u[l])}else if(\"o\"==l[0]&&\"n\"==l[1])o=l!=(l=l.replace(f,\"$1\")),r=l.toLowerCase(),l=r in n||\"onFocusOut\"==l||\"onFocusIn\"==l?r.slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=c,n.addEventListener(l,o?a:s,o)):n.removeEventListener(l,o?a:s,o);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==u?\"\":u))}}function F(n){return function(u){if(this.l){var t=this.l[u.type+n];if(null==u.t)u.t=c++;else if(u.t<t.u)return;return t(l.event?l.event(u):u)}}}function O(n,u,t,i,o,r,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[f=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof j)try{if(b=u.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,t.__c?m=(h=u.__c=t.__c).__=h.__E:(S?u.__c=h=new j(b,M):(u.__c=h=new x(b,M),h.constructor=j,h.render=E),C&&C.sub(h),h.state||(h.state={}),h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=w({},h.__s)),w(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=u,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),u.__v==t.__v||!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)){for(u.__v!=t.__v&&(h.props=b,h.state=h.__s,h.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.some(function(n){n&&(n.__=u)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(u),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=w(w({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===k&&null==a.key&&(L=V(a.props.children)),f=I(n,d(L)?L:[L],u,t,i,o,r,e,f,c,s),h.base=u.__e,u.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(u.__v=null,c||null!=r)if(n.then){for(u.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;r[r.indexOf(f)]=null,u.__e=f}else{for(T=r.length;T--;)g(r[T]);z(u)}else u.__e=t.__e,u.__k=t.__k,n.then||z(u);l.__e(n,u,t)}else null==r&&u.__v==t.__v?(u.__k=t.__k,u.__e=t.__e):f=u.__e=q(t.__e,u,t,i,o,r,e,c,s);return(a=l.diffed)&&a(u),128&u.__u?void 0:f}function z(n){n&&n.__c&&(n.__c.__e=!0),n&&n.__k&&n.__k.forEach(z)}function N(n,u,t){for(var i=0;i<t.length;i++)B(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function V(n){return\"object\"!=typeof n||null==n||n.__b&&n.__b>0?n:d(n)?n.map(V):w({},n)}function q(u,t,i,o,r,e,f,c,s){var a,h,v,y,w,_,m,b=i.props||p,k=t.props,x=t.type;if(\"svg\"==x?r=\"http://www.w3.org/2000/svg\":\"math\"==x?r=\"http://www.w3.org/1998/Math/MathML\":r||(r=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((w=e[a])&&\"setAttribute\"in w==!!x&&(x?w.localName==x:3==w.nodeType)){u=w,e[a]=null;break}if(null==u){if(null==x)return document.createTextNode(k);u=document.createElementNS(r,x,k.is&&k),c&&(l.__m&&l.__m(t,e),c=!1),e=null}if(null==x)b===k||c&&u.data==k||(u.data=k);else{if(e=e&&n.call(u.childNodes),!c&&null!=e)for(b={},a=0;a<u.attributes.length;a++)b[(w=u.attributes[a]).name]=w.value;for(a in b)if(w=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)v=w;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(u,a,null,w,r)}for(a in k)w=k[a],\"children\"==a?y=w:\"dangerouslySetInnerHTML\"==a?h=w:\"value\"==a?_=w:\"checked\"==a?m=w:c&&\"function\"!=typeof w||b[a]===w||j(u,a,w,b[a],r);if(h)c||v&&(h.__html==v.__html||h.__html==u.innerHTML)||(u.innerHTML=h.__html),t.__k=[];else if(v&&(u.innerHTML=\"\"),I(\"template\"==t.type?u.content:u,d(y)?y:[y],t,i,o,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":r,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?u.removeAttribute(\"value\"):null!=_&&(_!==u[a]||\"progress\"==x&&!_||\"option\"==x&&_!=b[a])&&j(u,a,_,b[a],r),a=\"checked\",null!=m&&m!=u[a]&&j(u,a,m,b[a],r))}return u}function B(n,u,t){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==u||(n.__u=n(u))}else n.current=u}catch(n){l.__e(n,t)}}function D(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||B(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&D(i[o],u,t||\"function\"!=typeof n.type);t||g(n.__e),n.__c=n.__=n.__e=void 0}function E(n,l,u){return this.constructor(n,u)}function G(u,t,i){var o,r,e,f;t==document&&(t=document.documentElement),l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,e=[],f=[],O(t,u=(!o&&i||t).__k=_(k,null,[u]),r||p,p,t.namespaceURI,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,e,!o&&i?i:r?r.__e:t.firstChild,o,f),N(e,u,f)}function J(n,l){G(n,l,J)}function K(l,u,t){var i,o,r,e,f=w({},l.props);for(r in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=void 0===u[r]&&null!=e?e[r]:u[r];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),m(l.type,f,i||l.key,o||l.ref,null)}function Q(n){function l(n){var u,t;return this.getChildContext||(u=new Set,(t={})[l.__c]=this,this.getChildContext=function(){return t},this.componentWillUnmount=function(){u=null},this.shouldComponentUpdate=function(n){this.props.value!=n.value&&u.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){u.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u&&u.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=v.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&void 0===n.constructor},x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=w({},this.state),\"function\"==typeof n&&(n=n(w({},u),this.props)),n&&w(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,K as cloneElement,Q as createContext,_ as createElement,b as createRef,_ as h,J as hydrate,t as isValidElement,l as options,G as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","import{options as r,Fragment as e}from\"preact\";export{Fragment}from\"preact\";var t=/[\"&<]/;function n(r){if(0===r.length||!1===t.test(r))return r;for(var e=0,n=0,o=\"\",f=\"\";n<r.length;n++){switch(r.charCodeAt(n)){case 34:f=\"&quot;\";break;case 38:f=\"&amp;\";break;case 60:f=\"&lt;\";break;default:continue}n!==e&&(o+=r.slice(e,n)),o+=f,e=n+1}return n!==e&&(o+=r.slice(e,n)),o}var o=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,f=0,i=Array.isArray;function u(e,t,n,o,i,u){t||(t={});var a,c,p=t;if(\"ref\"in p)for(c in p={},t)\"ref\"==c?a=t[c]:p[c]=t[c];var l={type:e,props:p,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--f,__i:-1,__u:0,__source:i,__self:u};if(\"function\"==typeof e&&(a=e.defaultProps))for(c in a)void 0===p[c]&&(p[c]=a[c]);return r.vnode&&r.vnode(l),l}function a(r){var t=u(e,{tpl:r,exprs:[].slice.call(arguments,1)});return t.key=t.__v,t}var c={},p=/[A-Z]/g;function l(e,t){if(r.attr){var f=r.attr(e,t);if(\"string\"==typeof f)return f}if(t=function(r){return null!==r&&\"object\"==typeof r&&\"function\"==typeof r.valueOf?r.valueOf():r}(t),\"ref\"===e||\"key\"===e)return\"\";if(\"style\"===e&&\"object\"==typeof t){var i=\"\";for(var u in t){var a=t[u];if(null!=a&&\"\"!==a){var l=\"-\"==u[0]?u:c[u]||(c[u]=u.replace(p,\"-$&\").toLowerCase()),s=\";\";\"number\"!=typeof a||l.startsWith(\"--\")||o.test(l)||(s=\"px;\"),i=i+l+\":\"+a+s}}return e+'=\"'+n(i)+'\"'}return null==t||!1===t||\"function\"==typeof t||\"object\"==typeof t?\"\":!0===t?e:e+'=\"'+n(\"\"+t)+'\"'}function s(r){if(null==r||\"boolean\"==typeof r||\"function\"==typeof r)return null;if(\"object\"==typeof r){if(void 0===r.constructor)return r;if(i(r)){for(var e=0;e<r.length;e++)r[e]=s(r[e]);return r}}return n(\"\"+r)}export{u as jsx,l as jsxAttr,u as jsxDEV,s as jsxEscape,a as jsxTemplate,u as jsxs};\n//# sourceMappingURL=jsxRuntime.module.js.map\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,35);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","// Provider configurations\nexport const PROVIDERS = {\n  anthropic: {\n    name: 'Anthropic',\n    baseUrl: 'https://api.anthropic.com/v1/messages',\n    models: [\n      { id: 'claude-opus-4-5-20251101', name: 'Opus 4.5' },\n      { id: 'claude-opus-4-20250514', name: 'Opus 4' },\n      { id: 'claude-sonnet-4-20250514', name: 'Sonnet 4' },\n      { id: 'claude-haiku-4-5-20251001', name: 'Haiku 4.5' },\n    ],\n  },\n  openai: {\n    name: 'OpenAI',\n    baseUrl: 'https://api.openai.com/v1/chat/completions',\n    models: [\n      { id: 'gpt-4o', name: 'GPT-4o' },\n      { id: 'gpt-5', name: 'GPT-5' },\n      { id: 'gpt-5-mini', name: 'GPT-5 Mini' },\n      { id: 'gpt-4.1', name: 'GPT-4.1' },\n      { id: 'o3', name: 'o3' },\n      { id: 'o4-mini', name: 'o4-mini' },\n    ],\n  },\n  google: {\n    name: 'Google',\n    baseUrl: 'https://generativelanguage.googleapis.com/v1beta/models',\n    models: [\n      { id: 'gemini-3-pro-preview', name: 'Gemini 3 Pro (Preview)' },\n      { id: 'gemini-2.5-flash', name: 'Gemini 2.5 Flash' },\n      { id: 'gemini-2.5-pro', name: 'Gemini 2.5 Pro' },\n    ],\n  },\n  openrouter: {\n    name: 'OpenRouter',\n    baseUrl: 'https://openrouter.ai/api/v1/chat/completions',\n    models: [\n      { id: 'qwen/qwen3-vl-235b-a22b-thinking', name: 'Qwen3 VL 235B (Reasoning)' },\n      { id: 'moonshotai/kimi-k2.5', name: 'Kimi K2.5 (Reasoning)' },\n      { id: 'mistralai/mistral-large-2512', name: 'Mistral Large 3' },\n    ],\n  },\n};\n\nexport const CODEX_MODELS = [\n  { id: 'gpt-5.1-codex-max', name: 'GPT-5.1 Codex Max' },\n  { id: 'gpt-5.2-codex', name: 'GPT-5.2 Codex' },\n  { id: 'gpt-5.1-codex-mini', name: 'GPT-5.1 Codex Mini' },\n  { id: 'gpt-5.1-codex', name: 'GPT-5.1 Codex' },\n  { id: 'gpt-5-codex', name: 'GPT-5 Codex' },\n];\n","import { useState, useEffect, useCallback } from 'preact/hooks';\nimport { PROVIDERS, CODEX_MODELS } from '../config/providers';\n\nexport function useConfig() {\n  const [providerKeys, setProviderKeys] = useState({});\n  const [customModels, setCustomModels] = useState([]);\n  const [currentModelIndex, setCurrentModelIndex] = useState(0);\n  const [userSkills, setUserSkills] = useState([]);\n  const [builtInSkills, setBuiltInSkills] = useState([]);\n  const [availableModels, setAvailableModels] = useState([]);\n  const [oauthStatus, setOauthStatus] = useState({ isOAuthEnabled: false, isAuthenticated: false });\n  const [codexStatus, setCodexStatus] = useState({ isAuthenticated: false });\n  const [isLoading, setIsLoading] = useState(true);\n\n  // Load config on mount\n  useEffect(() => {\n    loadConfig();\n  }, []);\n\n  const loadConfig = useCallback(async () => {\n    try {\n      const config = await chrome.runtime.sendMessage({ type: 'GET_CONFIG' });\n      setProviderKeys(config.providerKeys || {});\n      setCustomModels(config.customModels || []);\n      setCurrentModelIndex(config.currentModelIndex || 0);\n      setUserSkills(config.userSkills || []);\n      setBuiltInSkills(config.builtInSkills || []);\n\n      // Get OAuth statuses\n      const oauth = await chrome.runtime.sendMessage({ type: 'GET_OAUTH_STATUS' });\n      setOauthStatus(oauth || { isOAuthEnabled: false, isAuthenticated: false });\n\n      const codex = await chrome.runtime.sendMessage({ type: 'GET_CODEX_STATUS' });\n      setCodexStatus(codex || { isAuthenticated: false });\n\n      // Build available models\n      await buildAvailableModels(\n        config.providerKeys || {},\n        config.customModels || [],\n        oauth,\n        codex\n      );\n\n      setIsLoading(false);\n    } catch (error) {\n      console.error('Failed to load config:', error);\n      setIsLoading(false);\n    }\n  }, []);\n\n  const buildAvailableModels = useCallback(async (keys, custom, oauth, codex) => {\n    const models = [];\n    const hasOAuth = oauth?.isOAuthEnabled && oauth?.isAuthenticated;\n    const hasCodexOAuth = codex?.isAuthenticated;\n\n    // Add Codex Plan models if connected\n    if (hasCodexOAuth) {\n      for (const model of CODEX_MODELS) {\n        models.push({\n          name: `${model.name} (Codex Plan)`,\n          provider: 'codex',\n          modelId: model.id,\n          baseUrl: 'https://chatgpt.com/backend-api/codex/responses',\n          apiKey: null,\n          authMethod: 'codex_oauth',\n        });\n      }\n    }\n\n    // Add provider models\n    for (const [providerId, provider] of Object.entries(PROVIDERS)) {\n      const hasApiKey = keys[providerId];\n\n      if (providerId === 'anthropic') {\n        // Add OAuth models (Claude Code Plan)\n        if (hasOAuth) {\n          for (const model of provider.models) {\n            models.push({\n              name: `${model.name} (Claude Code)`,\n              provider: providerId,\n              modelId: model.id,\n              baseUrl: provider.baseUrl,\n              apiKey: null,\n              authMethod: 'oauth',\n            });\n          }\n        }\n        // Add API key models\n        if (hasApiKey) {\n          for (const model of provider.models) {\n            models.push({\n              name: `${model.name} (API)`,\n              provider: providerId,\n              modelId: model.id,\n              baseUrl: provider.baseUrl,\n              apiKey: hasApiKey,\n              authMethod: 'api_key',\n            });\n          }\n        }\n      } else if (hasApiKey) {\n        for (const model of provider.models) {\n          models.push({\n            name: `${model.name} (API)`,\n            provider: providerId,\n            modelId: model.id,\n            baseUrl: provider.baseUrl,\n            apiKey: hasApiKey,\n            authMethod: 'api_key',\n          });\n        }\n      }\n    }\n\n    // Add custom models\n    for (const customModel of custom) {\n      models.push({\n        name: customModel.name,\n        provider: 'custom',\n        modelId: customModel.modelId,\n        baseUrl: customModel.baseUrl,\n        apiKey: customModel.apiKey,\n        authMethod: 'api_key',\n      });\n    }\n\n    setAvailableModels(models);\n  }, []);\n\n  const saveConfig = useCallback(async () => {\n    await chrome.runtime.sendMessage({\n      type: 'SET_CONFIG',\n      payload: {\n        providerKeys,\n        customModels,\n        currentModelIndex,\n        userSkills,\n      },\n    });\n  }, [providerKeys, customModels, currentModelIndex, userSkills]);\n\n  const selectModel = useCallback(async (index) => {\n    setCurrentModelIndex(index);\n    const model = availableModels[index];\n    if (model) {\n      await chrome.runtime.sendMessage({\n        type: 'SET_CONFIG',\n        payload: {\n          currentModelIndex: index,\n          model: model.modelId,\n          apiBaseUrl: model.baseUrl,\n          apiKey: model.apiKey,\n          authMethod: model.authMethod,\n        },\n      });\n    }\n  }, [availableModels]);\n\n  const setProviderKey = useCallback((provider, key) => {\n    setProviderKeys(prev => ({ ...prev, [provider]: key }));\n  }, []);\n\n  const addCustomModel = useCallback((model) => {\n    setCustomModels(prev => [...prev, model]);\n  }, []);\n\n  const removeCustomModel = useCallback((index) => {\n    setCustomModels(prev => prev.filter((_, i) => i !== index));\n  }, []);\n\n  const addUserSkill = useCallback((skill) => {\n    setUserSkills(prev => {\n      const existingIndex = prev.findIndex(s => s.domain === skill.domain);\n      if (existingIndex >= 0) {\n        const updated = [...prev];\n        updated[existingIndex] = skill;\n        return updated;\n      }\n      return [...prev, skill];\n    });\n  }, []);\n\n  const removeUserSkill = useCallback((index) => {\n    setUserSkills(prev => prev.filter((_, i) => i !== index));\n  }, []);\n\n  const importCLI = useCallback(async () => {\n    const result = await chrome.runtime.sendMessage({ type: 'IMPORT_CLI_CREDENTIALS' });\n    if (result.success) {\n      await loadConfig();\n    }\n    return result;\n  }, [loadConfig]);\n\n  const logoutCLI = useCallback(async () => {\n    await chrome.runtime.sendMessage({ type: 'LOGOUT' });\n    await loadConfig();\n  }, [loadConfig]);\n\n  const importCodex = useCallback(async () => {\n    const result = await chrome.runtime.sendMessage({ type: 'IMPORT_CODEX_CREDENTIALS' });\n    if (result.success) {\n      await loadConfig();\n    }\n    return result;\n  }, [loadConfig]);\n\n  const logoutCodex = useCallback(async () => {\n    await chrome.runtime.sendMessage({ type: 'LOGOUT_CODEX' });\n    await loadConfig();\n  }, [loadConfig]);\n\n  const currentModel = availableModels[currentModelIndex] || null;\n\n  return {\n    // State\n    providerKeys,\n    customModels,\n    currentModelIndex,\n    userSkills,\n    builtInSkills,\n    availableModels,\n    currentModel,\n    oauthStatus,\n    codexStatus,\n    isLoading,\n\n    // Actions\n    loadConfig,\n    saveConfig,\n    selectModel,\n    setProviderKey,\n    addCustomModel,\n    removeCustomModel,\n    addUserSkill,\n    removeUserSkill,\n    importCLI,\n    logoutCLI,\n    importCodex,\n    logoutCodex,\n  };\n}\n","import { useState, useEffect, useCallback, useRef } from 'preact/hooks';\n\nexport function useChat() {\n  const [messages, setMessages] = useState([]);\n  const [isRunning, setIsRunning] = useState(false);\n  const [askBeforeActing] = useState(false); // Always execute directly\n  const [attachedImages, setAttachedImages] = useState([]);\n  const [sessionTabGroupId, setSessionTabGroupId] = useState(null);\n  const [pendingPlan, setPendingPlan] = useState(null);\n\n  // Steps tracking for current task\n  const [completedSteps, setCompletedSteps] = useState([]);\n  const [pendingStep, setPendingStep] = useState(null);\n\n  // Streaming state\n  const streamingTextRef = useRef('');\n  const [streamingMessageId, setStreamingMessageId] = useState(null);\n\n  // Listen for messages from service worker\n  useEffect(() => {\n    const listener = (message) => {\n      switch (message.type) {\n        case 'TASK_UPDATE':\n          handleTaskUpdate(message.update);\n          break;\n        case 'TASK_COMPLETE':\n          handleTaskComplete(message.result);\n          break;\n        case 'TASK_ERROR':\n          handleTaskError(message.error);\n          break;\n        case 'PLAN_APPROVAL_REQUIRED':\n          setPendingPlan(message.plan);\n          break;\n        case 'SESSION_GROUP_UPDATE':\n          setSessionTabGroupId(message.tabGroupId);\n          break;\n      }\n    };\n\n    chrome.runtime.onMessage.addListener(listener);\n    return () => chrome.runtime.onMessage.removeListener(listener);\n  }, []);\n\n  const handleTaskUpdate = useCallback((update) => {\n    if (update.status === 'thinking') {\n      // Show thinking indicator - add a thinking message\n      setMessages(prev => {\n        const filtered = prev.filter(m => m.type !== 'thinking');\n        return [...filtered, { id: Date.now(), type: 'thinking' }];\n      });\n      setStreamingMessageId(null);\n      streamingTextRef.current = '';\n    } else if (update.status === 'streaming' && update.text) {\n      // Remove thinking indicator and update streaming message\n      streamingTextRef.current = update.text;\n      setMessages(prev => {\n        const filtered = prev.filter(m => m.type !== 'thinking');\n        const existingStreamingIndex = filtered.findIndex(m => m.type === 'streaming');\n\n        if (existingStreamingIndex >= 0) {\n          const updated = [...filtered];\n          updated[existingStreamingIndex] = {\n            ...updated[existingStreamingIndex],\n            text: update.text,\n          };\n          return updated;\n        } else {\n          const msgId = Date.now();\n          setStreamingMessageId(msgId);\n          return [...filtered, {\n            id: msgId,\n            type: 'streaming',\n            text: update.text,\n          }];\n        }\n      });\n    } else if (update.status === 'executing') {\n      // Remove thinking indicator, store pending step\n      setMessages(prev => prev.filter(m => m.type !== 'thinking'));\n      setPendingStep({ tool: update.tool, input: update.input });\n    } else if (update.status === 'executed') {\n      // Add completed step\n      setCompletedSteps(prev => [...prev, {\n        tool: update.tool,\n        input: pendingStep?.input || update.input,\n        result: update.result,\n      }]);\n      setPendingStep(null);\n    } else if (update.status === 'message' && update.text) {\n      // Finalize message\n      setMessages(prev => {\n        const filtered = prev.filter(m => m.type !== 'thinking' && m.type !== 'streaming');\n        return [...filtered, {\n          id: Date.now(),\n          type: 'assistant',\n          text: update.text,\n        }];\n      });\n      setStreamingMessageId(null);\n      streamingTextRef.current = '';\n    }\n  }, [pendingStep]);\n\n  const handleTaskComplete = useCallback((result) => {\n    setIsRunning(false);\n    setMessages(prev => prev.filter(m => m.type !== 'thinking'));\n    setStreamingMessageId(null);\n    streamingTextRef.current = '';\n\n    if (result.message && !result.success) {\n      setMessages(prev => [...prev, {\n        id: Date.now(),\n        type: 'system',\n        text: result.message,\n      }]);\n    }\n  }, []);\n\n  const handleTaskError = useCallback((error) => {\n    setIsRunning(false);\n    setMessages(prev => {\n      const filtered = prev.filter(m => m.type !== 'thinking' && m.type !== 'streaming');\n      return [...filtered, {\n        id: Date.now(),\n        type: 'error',\n        text: `Error: ${error}`,\n      }];\n    });\n    setStreamingMessageId(null);\n    streamingTextRef.current = '';\n  }, []);\n\n  const sendMessage = useCallback(async (text) => {\n    if (!text.trim() || isRunning) return;\n\n    // Add user message\n    const userMessage = {\n      id: Date.now(),\n      type: 'user',\n      text,\n      images: [...attachedImages],\n    };\n    setMessages(prev => [...prev, userMessage]);\n\n    // Clear attached images and reset steps\n    const imagesToSend = [...attachedImages];\n    setAttachedImages([]);\n    setCompletedSteps([]);\n    setPendingStep(null);\n\n    // Get active tab\n    const [tab] = await chrome.tabs.query({ active: true, currentWindow: true });\n    if (!tab) {\n      setMessages(prev => [...prev, {\n        id: Date.now(),\n        type: 'error',\n        text: 'No active tab found',\n      }]);\n      return;\n    }\n\n    setIsRunning(true);\n\n    try {\n      await chrome.runtime.sendMessage({\n        type: 'START_TASK',\n        payload: {\n          tabId: tab.id,\n          task: text,\n          askBeforeActing,\n          images: imagesToSend,\n          tabGroupId: sessionTabGroupId,\n        },\n      });\n    } catch (error) {\n      setMessages(prev => [...prev, {\n        id: Date.now(),\n        type: 'error',\n        text: `Error: ${error.message}`,\n      }]);\n      setIsRunning(false);\n    }\n  }, [isRunning, attachedImages, askBeforeActing, sessionTabGroupId]);\n\n  const stopTask = useCallback(() => {\n    chrome.runtime.sendMessage({ type: 'STOP_TASK' }).catch(() => {});\n    setIsRunning(false);\n  }, []);\n\n  const clearChat = useCallback(() => {\n    setMessages([]);\n    setCompletedSteps([]);\n    setPendingStep(null);\n    setStreamingMessageId(null);\n    streamingTextRef.current = '';\n    setSessionTabGroupId(null);\n    chrome.runtime.sendMessage({ type: 'CLEAR_HISTORY' }).catch(() => {});\n  }, []);\n\n  const approvePlan = useCallback(() => {\n    chrome.runtime.sendMessage({ type: 'PLAN_APPROVAL_RESPONSE', payload: { approved: true } });\n    setPendingPlan(null);\n  }, []);\n\n  const cancelPlan = useCallback(() => {\n    chrome.runtime.sendMessage({ type: 'PLAN_APPROVAL_RESPONSE', payload: { approved: false } });\n    setPendingPlan(null);\n  }, []);\n\n  const addImage = useCallback((dataUrl) => {\n    setAttachedImages(prev => [...prev, dataUrl]);\n  }, []);\n\n  const removeImage = useCallback((index) => {\n    setAttachedImages(prev => prev.filter((_, i) => i !== index));\n  }, []);\n\n  const clearImages = useCallback(() => {\n    setAttachedImages([]);\n  }, []);\n\n  return {\n    // State\n    messages,\n    isRunning,\n    attachedImages,\n    completedSteps,\n    pendingStep,\n    pendingPlan,\n\n    // Actions\n    sendMessage,\n    stopTask,\n    clearChat,\n    approvePlan,\n    cancelPlan,\n    addImage,\n    removeImage,\n    clearImages,\n  };\n}\n","import { useState, useRef, useEffect } from 'preact/hooks';\n\nexport function Header({\n  currentModel,\n  availableModels,\n  currentModelIndex,\n  onModelSelect,\n  onNewChat,\n  onOpenSettings,\n}) {\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const dropdownRef = useRef(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (e) => {\n      if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {\n        setIsDropdownOpen(false);\n      }\n    };\n    document.addEventListener('click', handleClickOutside);\n    return () => document.removeEventListener('click', handleClickOutside);\n  }, []);\n\n  const handleModelSelect = (index) => {\n    onModelSelect(index);\n    setIsDropdownOpen(false);\n  };\n\n  return (\n    <div class=\"header\">\n      <div class=\"header-left\">\n        <div class=\"model-selector\" ref={dropdownRef}>\n          <button\n            class=\"model-selector-btn\"\n            onClick={() => setIsDropdownOpen(!isDropdownOpen)}\n          >\n            <span class=\"current-model-name\">\n              {currentModel?.name || 'Select Model'}\n            </span>\n            <svg class=\"chevron\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M6 9l6 6 6-6\" />\n            </svg>\n          </button>\n\n          {isDropdownOpen && (\n            <div class=\"model-dropdown\">\n              <div class=\"model-list\">\n                {availableModels.length === 0 ? (\n                  <div class=\"model-item disabled\">\n                    No models configured\n                  </div>\n                ) : (\n                  availableModels.map((model, index) => (\n                    <button\n                      key={index}\n                      class={`model-item ${index === currentModelIndex ? 'active' : ''}`}\n                      onClick={() => handleModelSelect(index)}\n                    >\n                      {model.name}\n                    </button>\n                  ))\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div class=\"header-right\">\n        <button class=\"icon-btn\" onClick={onNewChat} title=\"New chat\">\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n            <path d=\"M12 5v14M5 12h14\" />\n          </svg>\n        </button>\n\n        <button class=\"icon-btn\" onClick={onOpenSettings} title=\"Settings\">\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n            <circle cx=\"12\" cy=\"12\" r=\"3\" />\n            <path d=\"M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33 1.65 1.65 0 00-1 1.51V21a2 2 0 01-2 2 2 2 0 01-2-2v-.09A1.65 1.65 0 009 19.4a1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83 0 2 2 0 010-2.83l.06-.06a1.65 1.65 0 00.33-1.82 1.65 1.65 0 00-1.51-1H3a2 2 0 01-2-2 2 2 0 012-2h.09A1.65 1.65 0 004.6 9a1.65 1.65 0 00-.33-1.82l-.06-.06a2 2 0 010-2.83 2 2 0 012.83 0l.06.06a1.65 1.65 0 001.82.33H9a1.65 1.65 0 001-1.51V3a2 2 0 012-2 2 2 0 012 2v.09a1.65 1.65 0 001 1.51 1.65 1.65 0 001.82-.33l.06-.06a2 2 0 012.83 0 2 2 0 010 2.83l-.06.06a1.65 1.65 0 00-.33 1.82V9a1.65 1.65 0 001.51 1H21a2 2 0 012 2 2 2 0 01-2 2h-.09a1.65 1.65 0 00-1.51 1z\" />\n          </svg>\n        </button>\n      </div>\n    </div>\n  );\n}\n","// Markdown formatting utilities\n\nexport function formatMarkdown(text) {\n  if (!text) return '';\n\n  const lines = text.split('\\n');\n  let result = [];\n  let inList = false;\n  let listType = null;\n\n  for (const line of lines) {\n    const ulMatch = line.match(/^[-*]\\s+(.+)$/);\n    const olMatch = line.match(/^(\\d+)\\.\\s+(.+)$/);\n\n    if (ulMatch) {\n      if (!inList || listType !== 'ul') {\n        if (inList) result.push(listType === 'ol' ? '</ol>' : '</ul>');\n        result.push('<ul>');\n        inList = true;\n        listType = 'ul';\n      }\n      result.push(`<li>${formatInline(ulMatch[1])}</li>`);\n    } else if (olMatch) {\n      if (!inList || listType !== 'ol') {\n        if (inList) result.push(listType === 'ol' ? '</ol>' : '</ul>');\n        result.push('<ol>');\n        inList = true;\n        listType = 'ol';\n      }\n      result.push(`<li>${formatInline(olMatch[2])}</li>`);\n    } else {\n      if (inList) {\n        result.push(listType === 'ol' ? '</ol>' : '</ul>');\n        inList = false;\n        listType = null;\n      }\n      if (line.trim() === '') {\n        result.push('<br>');\n      } else {\n        result.push(`<p>${formatInline(line)}</p>`);\n      }\n    }\n  }\n  if (inList) result.push(listType === 'ol' ? '</ol>' : '</ul>');\n  return result.join('');\n}\n\nfunction formatInline(text) {\n  return escapeHtml(text)\n    .replace(/\\*\\*(.+?)\\*\\*/g, '<strong>$1</strong>')\n    .replace(/\\*(.+?)\\*/g, '<em>$1</em>')\n    .replace(/`(.+?)`/g, '<code>$1</code>');\n}\n\nexport function escapeHtml(text) {\n  const div = document.createElement('div');\n  div.textContent = text;\n  return div.innerHTML;\n}\n\n// Get action description for tool execution\nexport function getActionDescription(toolName, input) {\n  if (!input) return toolName;\n\n  switch (toolName) {\n    case 'computer': {\n      const action = input.action;\n      if (action === 'screenshot') return 'Taking screenshot';\n      if (action === 'left_click') {\n        if (input.ref) return `Clicking ${input.ref}`;\n        if (input.coordinate) return `Clicking at (${input.coordinate[0]}, ${input.coordinate[1]})`;\n        return 'Clicking';\n      }\n      if (action === 'right_click') return 'Right-clicking';\n      if (action === 'double_click') return 'Double-clicking';\n      if (action === 'type') return `Typing \"${(input.text || '').substring(0, 30)}${input.text?.length > 30 ? '...' : ''}\"`;\n      if (action === 'key') return `Pressing ${input.text}`;\n      if (action === 'scroll') return `Scrolling ${input.scroll_direction}`;\n      if (action === 'mouse_move') return 'Moving mouse';\n      if (action === 'drag') return 'Dragging';\n      return `Computer: ${action}`;\n    }\n    case 'navigate':\n      if (input.action === 'back') return 'Going back';\n      if (input.action === 'forward') return 'Going forward';\n      return `Navigating to ${(input.url || '').substring(0, 50)}...`;\n    case 'read_page':\n      return 'Reading page structure';\n    case 'get_page_text':\n      return 'Extracting page text';\n    case 'find':\n      return `Finding \"${input.query}\"`;\n    case 'form_input':\n      return `Filling form field ${input.ref}`;\n    case 'file_upload':\n      return 'Uploading file';\n    case 'javascript_tool':\n      return 'Running JavaScript';\n    case 'tabs_context':\n      return 'Getting tab context';\n    case 'tabs_create':\n      return 'Creating new tab';\n    case 'tabs_close':\n      return 'Closing tab';\n    case 'read_console_messages':\n      return 'Reading console';\n    case 'read_network_requests':\n      return 'Reading network requests';\n    default:\n      return toolName;\n  }\n}\n\n// Get tool icon SVG\nexport function getToolIcon(toolName) {\n  const icons = {\n    computer: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"2\" y=\"3\" width=\"20\" height=\"14\" rx=\"2\"/><path d=\"M8 21h8M12 17v4\"/></svg>',\n    navigate: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M2 12h20M12 2a15.3 15.3 0 014 10 15.3 15.3 0 01-4 10 15.3 15.3 0 01-4-10 15.3 15.3 0 014-10z\"/></svg>',\n    read_page: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z\"/><path d=\"M14 2v6h6M16 13H8M16 17H8M10 9H8\"/></svg>',\n    get_page_text: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z\"/><path d=\"M14 2v6h6M16 13H8M16 17H8M10 9H8\"/></svg>',\n    find: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"11\" cy=\"11\" r=\"8\"/><path d=\"M21 21l-4.35-4.35\"/></svg>',\n    form_input: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7\"/><path d=\"M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z\"/></svg>',\n    javascript_tool: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><path d=\"M16 18l6-6-6-6M8 6l-6 6 6 6\"/></svg>',\n    tabs_context: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\"/><path d=\"M3 9h18\"/></svg>',\n    tabs_create: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\"/><path d=\"M12 8v8M8 12h8\"/></svg>',\n    tabs_close: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\"/><path d=\"M9 9l6 6M15 9l-6 6\"/></svg>',\n    default: '<svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M12 6v6l4 2\"/></svg>',\n  };\n  return icons[toolName] || icons.default;\n}\n\n// Format step result for display\nexport function formatStepResult(result) {\n  if (!result) return '';\n  if (typeof result === 'string') {\n    if (result.length > 100) {\n      return result.substring(0, 100) + '...';\n    }\n    return result;\n  }\n  if (typeof result === 'object') {\n    if (result.error) return `Error: ${result.error}`;\n    if (result.output) {\n      const output = typeof result.output === 'string' ? result.output : JSON.stringify(result.output);\n      return output.length > 100 ? output.substring(0, 100) + '...' : output;\n    }\n  }\n  return '';\n}\n","import { formatMarkdown } from '../utils/format';\n\nexport function Message({ message }) {\n  const { type, text, images } = message;\n\n  if (type === 'thinking') {\n    return (\n      <div class=\"message thinking\">\n        <div class=\"thinking-indicator\">\n          <div class=\"sparkle-container\">\n            <svg class=\"sparkle\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <circle cx=\"12\" cy=\"12\" r=\"10\" />\n              <path d=\"M12 6v6l4 2\" />\n            </svg>\n          </div>\n          <span>Thinking...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (type === 'streaming') {\n    return (\n      <div class=\"message assistant streaming\">\n        <div class=\"bullet\" />\n        <div\n          class=\"content\"\n          dangerouslySetInnerHTML={{ __html: formatMarkdown(text) }}\n        />\n      </div>\n    );\n  }\n\n  if (type === 'user') {\n    return (\n      <div class=\"message user\">\n        {images && images.length > 0 && (\n          <div class=\"message-images\">\n            {images.map((img, i) => (\n              <img key={i} src={img} alt={`Attached ${i + 1}`} />\n            ))}\n          </div>\n        )}\n        {text && <span>{text}</span>}\n      </div>\n    );\n  }\n\n  if (type === 'assistant') {\n    return (\n      <div class=\"message assistant\">\n        <div class=\"bullet\" />\n        <div\n          class=\"content\"\n          dangerouslySetInnerHTML={{ __html: formatMarkdown(text) }}\n        />\n      </div>\n    );\n  }\n\n  if (type === 'error') {\n    return (\n      <div class=\"message error\">\n        {text}\n      </div>\n    );\n  }\n\n  if (type === 'system') {\n    return (\n      <div class=\"message system\">\n        {text}\n      </div>\n    );\n  }\n\n  return null;\n}\n","import { useState } from 'preact/hooks';\nimport { getToolIcon, getActionDescription, formatStepResult, escapeHtml } from '../utils/format';\n\nexport function StepsSection({ steps, pendingStep }) {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const totalSteps = steps.length + (pendingStep ? 1 : 0);\n\n  if (totalSteps === 0) return null;\n\n  return (\n    <div class=\"steps-section\">\n      <div\n        class={`steps-toggle ${isExpanded ? 'expanded' : ''}`}\n        onClick={() => setIsExpanded(!isExpanded)}\n      >\n        <div class=\"toggle-icon\">\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n            <polyline points=\"9 11 12 14 22 4\" />\n            <path d=\"M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11\" />\n          </svg>\n        </div>\n        <span class=\"toggle-text\">\n          {steps.length} step{steps.length !== 1 ? 's' : ''} completed\n          {pendingStep && ' (1 in progress)'}\n        </span>\n        <svg class=\"chevron\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n          <path d=\"M6 9l6 6 6-6\" />\n        </svg>\n      </div>\n\n      <div class={`steps-list ${isExpanded ? 'visible' : ''}`}>\n        {steps.map((step, index) => (\n          <StepItem key={index} step={step} status=\"completed\" />\n        ))}\n        {pendingStep && (\n          <StepItem step={pendingStep} status=\"pending\" />\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction StepItem({ step, status }) {\n  const description = getActionDescription(step.tool, step.input);\n  const resultText = status === 'completed' ? formatStepResult(step.result) : null;\n\n  return (\n    <div class={`step-item ${status}`}>\n      <div class={`step-icon ${status === 'completed' ? 'success' : 'pending'}`}>\n        {status === 'pending' ? (\n          <svg class=\"spinner\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\" />\n          </svg>\n        ) : (\n          <span dangerouslySetInnerHTML={{ __html: getToolIcon(step.tool) }} />\n        )}\n      </div>\n      <div class=\"step-content\">\n        <div class=\"step-label\">{escapeHtml(description)}</div>\n        {resultText && (\n          <div class=\"step-result\">{escapeHtml(resultText)}</div>\n        )}\n      </div>\n      <div class=\"step-status\">\n        {status === 'completed' ? 'âœ“' : '...'}\n      </div>\n    </div>\n  );\n}\n","import { useRef, useEffect } from 'preact/hooks';\nimport { Message } from './Message';\nimport { StepsSection } from './StepsSection';\n\nexport function MessageList({ messages, completedSteps, pendingStep }) {\n  const containerRef = useRef(null);\n  const isAtBottomRef = useRef(true);\n\n  // Track if user is at bottom\n  const handleScroll = () => {\n    if (!containerRef.current) return;\n    const { scrollTop, scrollHeight, clientHeight } = containerRef.current;\n    isAtBottomRef.current = scrollHeight - scrollTop - clientHeight < 50;\n  };\n\n  // Auto-scroll when new messages arrive (if at bottom)\n  useEffect(() => {\n    if (isAtBottomRef.current && containerRef.current) {\n      containerRef.current.scrollTop = containerRef.current.scrollHeight;\n    }\n  }, [messages, completedSteps]);\n\n  // Group messages and inject steps section after last user message when there are steps\n  const renderContent = () => {\n    const content = [];\n    let stepsInjected = false;\n\n    for (let i = 0; i < messages.length; i++) {\n      const msg = messages[i];\n      content.push(<Message key={msg.id} message={msg} />);\n\n      // Inject steps section after user message if we have completed steps and haven't injected yet\n      if (\n        !stepsInjected &&\n        msg.type === 'user' &&\n        completedSteps.length > 0\n      ) {\n        content.push(\n          <StepsSection\n            key={`steps-${msg.id}`}\n            steps={completedSteps}\n            pendingStep={pendingStep}\n          />\n        );\n        stepsInjected = true;\n      }\n    }\n\n    // If there's a pending step but no completed steps, show steps section after last user message\n    if (!stepsInjected && pendingStep) {\n      const lastUserIndex = [...messages].reverse().findIndex(m => m.type === 'user');\n      if (lastUserIndex !== -1) {\n        const insertIndex = messages.length - lastUserIndex;\n        content.splice(insertIndex, 0,\n          <StepsSection\n            key=\"steps-pending\"\n            steps={completedSteps}\n            pendingStep={pendingStep}\n          />\n        );\n      }\n    }\n\n    return content;\n  };\n\n  return (\n    <div\n      class=\"messages\"\n      ref={containerRef}\n      onScroll={handleScroll}\n    >\n      {renderContent()}\n    </div>\n  );\n}\n","import { useState, useRef, useEffect } from 'preact/hooks';\n\nexport function InputArea({\n  isRunning,\n  attachedImages,\n  onSend,\n  onStop,\n  onAddImage,\n  onRemoveImage,\n  hasModels,\n  suggestedText,\n  onClearSuggestion,\n}) {\n  const [text, setText] = useState('');\n\n  // When suggestedText changes, populate the textarea\n  useEffect(() => {\n    if (suggestedText) {\n      setText(suggestedText);\n      onClearSuggestion();\n    }\n  }, [suggestedText, onClearSuggestion]);\n  const [isDragging, setIsDragging] = useState(false);\n  const inputRef = useRef(null);\n\n  const handleSubmit = () => {\n    if (!text.trim() || isRunning) return;\n    if (!hasModels) {\n      alert('Please configure a model in Settings first');\n      return;\n    }\n    onSend(text);\n    setText('');\n    if (inputRef.current) {\n      inputRef.current.style.height = 'auto';\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit();\n    }\n  };\n\n  const handleInput = (e) => {\n    setText(e.target.value);\n    // Auto-resize\n    e.target.style.height = 'auto';\n    e.target.style.height = Math.min(e.target.scrollHeight, 150) + 'px';\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    setIsDragging(false);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    setIsDragging(false);\n    const files = e.dataTransfer.files;\n    for (const file of files) {\n      if (file.type.startsWith('image/')) {\n        readImageFile(file);\n      }\n    }\n  };\n\n  const handlePaste = (e) => {\n    const items = e.clipboardData?.items;\n    if (items) {\n      for (const item of items) {\n        if (item.type.startsWith('image/')) {\n          e.preventDefault();\n          const file = item.getAsFile();\n          if (file) readImageFile(file);\n          break;\n        }\n      }\n    }\n  };\n\n  const readImageFile = (file) => {\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      onAddImage(e.target.result);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  return (\n    <div\n      class={`input-container ${isDragging ? 'drag-over' : ''}`}\n      onDragOver={handleDragOver}\n      onDragLeave={handleDragLeave}\n      onDrop={handleDrop}\n    >\n      {attachedImages.length > 0 && (\n        <div class=\"image-preview\">\n          {attachedImages.map((img, i) => (\n            <div key={i} class=\"image-preview-item\">\n              <img src={img} alt={`Preview ${i + 1}`} />\n              <button\n                class=\"remove-image-btn\"\n                onClick={() => onRemoveImage(i)}\n              >\n                &times;\n              </button>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <div class=\"input-row\">\n        <textarea\n          ref={inputRef}\n          class=\"input\"\n          placeholder=\"What would you like me to do?\"\n          value={text}\n          onInput={handleInput}\n          onKeyDown={handleKeyDown}\n          onPaste={handlePaste}\n          rows={1}\n        />\n\n        {isRunning ? (\n          <button class=\"btn stop-btn\" onClick={onStop}>\n            <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\n              <rect x=\"6\" y=\"6\" width=\"12\" height=\"12\" rx=\"2\" />\n            </svg>\n            Stop\n          </button>\n        ) : (\n          <button\n            class=\"btn send-btn\"\n            onClick={handleSubmit}\n            disabled={!text.trim()}\n          >\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\">\n              <path d=\"M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z\" />\n            </svg>\n            Send\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useState } from 'preact/hooks';\nimport { PROVIDERS } from '../config/providers';\n\nexport function SettingsModal({ config, onClose }) {\n  const [activeTab, setActiveTab] = useState('providers');\n  const [selectedProvider, setSelectedProvider] = useState(null);\n  const [localKeys, setLocalKeys] = useState({ ...config.providerKeys });\n  const [newCustomModel, setNewCustomModel] = useState({ name: '', baseUrl: '', modelId: '', apiKey: '' });\n  const [skillForm, setSkillForm] = useState({ domain: '', skill: '', isOpen: false, editIndex: -1 });\n\n  const handleSave = async () => {\n    // Update provider keys\n    for (const [provider, key] of Object.entries(localKeys)) {\n      if (key !== config.providerKeys[provider]) {\n        config.setProviderKey(provider, key);\n      }\n    }\n    await config.saveConfig();\n    onClose();\n  };\n\n  const handleAddCustomModel = () => {\n    if (!newCustomModel.name || !newCustomModel.baseUrl || !newCustomModel.modelId) {\n      alert('Please fill in name, base URL, and model ID');\n      return;\n    }\n    config.addCustomModel({ ...newCustomModel });\n    setNewCustomModel({ name: '', baseUrl: '', modelId: '', apiKey: '' });\n  };\n\n  const handleAddSkill = () => {\n    if (!skillForm.domain || !skillForm.skill) {\n      alert('Please fill in both domain and tips/guidance');\n      return;\n    }\n    config.addUserSkill({ domain: skillForm.domain.toLowerCase(), skill: skillForm.skill });\n    setSkillForm({ domain: '', skill: '', isOpen: false, editIndex: -1 });\n  };\n\n  const handleEditSkill = (index) => {\n    const skill = config.userSkills[index];\n    setSkillForm({ domain: skill.domain, skill: skill.skill, isOpen: true, editIndex: index });\n  };\n\n  return (\n    <div class=\"modal-overlay\" onClick={(e) => e.target === e.currentTarget && onClose()}>\n      <div class=\"modal settings-modal\">\n        <div class=\"modal-header\">\n          <span>Settings</span>\n          <button class=\"close-btn\" onClick={onClose}>&times;</button>\n        </div>\n\n        <div class=\"tabs\">\n          <button\n            class={`tab ${activeTab === 'providers' ? 'active' : ''}`}\n            onClick={() => setActiveTab('providers')}\n          >\n            Providers\n          </button>\n          <button\n            class={`tab ${activeTab === 'custom' ? 'active' : ''}`}\n            onClick={() => setActiveTab('custom')}\n          >\n            Custom Models\n          </button>\n          <button\n            class={`tab ${activeTab === 'skills' ? 'active' : ''}`}\n            onClick={() => setActiveTab('skills')}\n          >\n            Domain Skills\n          </button>\n        </div>\n\n        <div class=\"modal-body\">\n          {activeTab === 'providers' && (\n            <ProvidersTab\n              localKeys={localKeys}\n              setLocalKeys={setLocalKeys}\n              selectedProvider={selectedProvider}\n              setSelectedProvider={setSelectedProvider}\n              config={config}\n            />\n          )}\n\n          {activeTab === 'custom' && (\n            <CustomModelsTab\n              customModels={config.customModels}\n              newModel={newCustomModel}\n              setNewModel={setNewCustomModel}\n              onAdd={handleAddCustomModel}\n              onRemove={config.removeCustomModel}\n            />\n          )}\n\n          {activeTab === 'skills' && (\n            <SkillsTab\n              userSkills={config.userSkills}\n              builtInSkills={config.builtInSkills}\n              skillForm={skillForm}\n              setSkillForm={setSkillForm}\n              onAdd={handleAddSkill}\n              onEdit={handleEditSkill}\n              onRemove={config.removeUserSkill}\n            />\n          )}\n        </div>\n\n        <div class=\"modal-footer\">\n          <button class=\"btn btn-secondary\" onClick={onClose}>Close</button>\n          <button class=\"btn btn-primary\" onClick={handleSave}>Save</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ProvidersTab({ localKeys, setLocalKeys, selectedProvider, setSelectedProvider, config }) {\n  return (\n    <div class=\"tab-content\">\n      {/* Claude Code Plan */}\n      <div class=\"provider-section\">\n        <h4>Claude Code Plan</h4>\n        <p class=\"provider-desc\">Use your Claude Pro/Max subscription. <a href=\"https://github.com/hanzili/llm-in-chrome#claude-code-plan-setup\" target=\"_blank\">Setup guide</a></p>\n        {config.oauthStatus.isAuthenticated ? (\n          <div class=\"connected-status\">\n            <span class=\"status-badge connected\">Connected</span>\n            <button class=\"btn btn-secondary btn-sm\" onClick={config.logoutCLI}>Disconnect</button>\n          </div>\n        ) : (\n          <button class=\"btn btn-primary\" onClick={config.importCLI}>Connect</button>\n        )}\n      </div>\n\n      {/* Codex Plan */}\n      <div class=\"provider-section\">\n        <h4>Codex Plan</h4>\n        <p class=\"provider-desc\">Use your ChatGPT Pro/Plus subscription. <a href=\"https://github.com/hanzili/llm-in-chrome#codex-plan-setup\" target=\"_blank\">Setup guide</a></p>\n        {config.codexStatus.isAuthenticated ? (\n          <div class=\"connected-status\">\n            <span class=\"status-badge connected\">Connected</span>\n            <button class=\"btn btn-secondary btn-sm\" onClick={config.logoutCodex}>Disconnect</button>\n          </div>\n        ) : (\n          <button class=\"btn btn-primary\" onClick={config.importCodex}>Connect</button>\n        )}\n      </div>\n\n      <hr />\n\n      {/* API Keys */}\n      <h4>API Keys (Pay-per-use)</h4>\n      <div class=\"provider-cards\">\n        {Object.entries(PROVIDERS).map(([id, provider]) => (\n          <div\n            key={id}\n            class={`provider-card ${selectedProvider === id ? 'selected' : ''} ${localKeys[id] ? 'configured' : ''}`}\n            onClick={() => setSelectedProvider(selectedProvider === id ? null : id)}\n          >\n            <div class=\"provider-name\">{provider.name}</div>\n            {localKeys[id] && <span class=\"check-badge\">âœ“</span>}\n          </div>\n        ))}\n      </div>\n\n      {selectedProvider && (\n        <div class=\"api-key-input\">\n          <label>{PROVIDERS[selectedProvider].name} API Key</label>\n          <input\n            type=\"password\"\n            value={localKeys[selectedProvider] || ''}\n            onInput={(e) => setLocalKeys({ ...localKeys, [selectedProvider]: e.target.value })}\n            placeholder=\"Enter API key...\"\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction CustomModelsTab({ customModels, newModel, setNewModel, onAdd, onRemove }) {\n  return (\n    <div class=\"tab-content\">\n      <p class=\"tab-desc\">Add custom OpenAI-compatible endpoints</p>\n\n      <div class=\"custom-model-form\">\n        <input\n          type=\"text\"\n          placeholder=\"Display Name\"\n          value={newModel.name}\n          onInput={(e) => setNewModel({ ...newModel, name: e.target.value })}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Base URL (e.g., https://api.example.com/v1/chat/completions)\"\n          value={newModel.baseUrl}\n          onInput={(e) => setNewModel({ ...newModel, baseUrl: e.target.value })}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Model ID\"\n          value={newModel.modelId}\n          onInput={(e) => setNewModel({ ...newModel, modelId: e.target.value })}\n        />\n        <input\n          type=\"password\"\n          placeholder=\"API Key (optional)\"\n          value={newModel.apiKey}\n          onInput={(e) => setNewModel({ ...newModel, apiKey: e.target.value })}\n        />\n        <button class=\"btn btn-primary\" onClick={onAdd}>Add Model</button>\n      </div>\n\n      {customModels.length > 0 && (\n        <div class=\"custom-models-list\">\n          <h4>Custom Models</h4>\n          {customModels.map((model, i) => (\n            <div key={i} class=\"custom-model-item\">\n              <div class=\"model-info\">\n                <span class=\"model-name\">{model.name}</span>\n                <span class=\"model-url\">{model.baseUrl}</span>\n              </div>\n              <button class=\"btn btn-danger btn-sm\" onClick={() => onRemove(i)}>Remove</button>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction SkillsTab({ userSkills, builtInSkills, skillForm, setSkillForm, onAdd, onEdit, onRemove }) {\n  return (\n    <div class=\"tab-content\">\n      <p class=\"tab-desc\">Add domain-specific tips to help the AI navigate websites</p>\n\n      <button\n        class=\"btn btn-secondary\"\n        onClick={() => setSkillForm({ ...skillForm, isOpen: true, editIndex: -1, domain: '', skill: '' })}\n      >\n        + Add Skill\n      </button>\n\n      {skillForm.isOpen && (\n        <div class=\"skill-form\">\n          <input\n            type=\"text\"\n            placeholder=\"Domain (e.g., github.com)\"\n            value={skillForm.domain}\n            onInput={(e) => setSkillForm({ ...skillForm, domain: e.target.value })}\n          />\n          <textarea\n            placeholder=\"Tips and guidance for this domain...\"\n            value={skillForm.skill}\n            onInput={(e) => setSkillForm({ ...skillForm, skill: e.target.value })}\n            rows={4}\n          />\n          <div class=\"skill-form-actions\">\n            <button class=\"btn btn-secondary\" onClick={() => setSkillForm({ ...skillForm, isOpen: false })}>\n              Cancel\n            </button>\n            <button class=\"btn btn-primary\" onClick={onAdd}>\n              {skillForm.editIndex >= 0 ? 'Update' : 'Add'}\n            </button>\n          </div>\n        </div>\n      )}\n\n      <div class=\"skills-list\">\n        {userSkills.length > 0 && (\n          <>\n            <h4>Your Skills</h4>\n            {userSkills.map((skill, i) => (\n              <div key={i} class=\"skill-item\">\n                <div class=\"skill-domain\">{skill.domain}</div>\n                <div class=\"skill-preview\">{skill.skill.substring(0, 100)}...</div>\n                <div class=\"skill-actions\">\n                  <button class=\"btn btn-sm\" onClick={() => onEdit(i)}>Edit</button>\n                  <button class=\"btn btn-sm btn-danger\" onClick={() => onRemove(i)}>Delete</button>\n                </div>\n              </div>\n            ))}\n          </>\n        )}\n\n        {builtInSkills.length > 0 && (\n          <>\n            <h4>Built-in Skills</h4>\n            {builtInSkills.map((skill, i) => (\n              <div key={i} class=\"skill-item builtin\">\n                <div class=\"skill-domain\">{skill.domain}</div>\n                <div class=\"skill-preview\">{skill.skill.substring(0, 100)}...</div>\n              </div>\n            ))}\n          </>\n        )}\n      </div>\n    </div>\n  );\n}\n","export function PlanModal({ plan, onApprove, onCancel }) {\n  return (\n    <div class=\"modal-overlay\">\n      <div class=\"modal\">\n        <div class=\"modal-header\">Review Plan</div>\n        <div class=\"modal-body\">\n          <div class=\"plan-section\">\n            <h4>Domains to visit:</h4>\n            <ul class=\"plan-domains\">\n              {(plan.domains || []).map((domain, i) => (\n                <li key={i}>{domain}</li>\n              ))}\n            </ul>\n          </div>\n\n          <div class=\"plan-section\">\n            <h4>Approach:</h4>\n            <ul class=\"plan-steps\">\n              {(Array.isArray(plan.approach) ? plan.approach : [plan.approach]).map((step, i) => (\n                <li key={i}>{step}</li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button class=\"btn btn-secondary\" onClick={onCancel}>\n            Cancel\n          </button>\n          <button class=\"btn btn-primary\" onClick={onApprove}>\n            Approve & Continue\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","const EXAMPLES = [\n  'Search for recent AI news',\n  'Fill out this form',\n  'Find the best price for...',\n];\n\nexport function EmptyState({ onSelectExample }) {\n  return (\n    <div class=\"empty-state\">\n      <div class=\"empty-icon\">\n        <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\">\n          <circle cx=\"12\" cy=\"12\" r=\"10\" />\n          <path d=\"M12 6v6l4 2\" />\n        </svg>\n      </div>\n      <h2>LLM in Chrome</h2>\n      <p>Describe what you want to accomplish and the AI will browse autonomously to complete your task.</p>\n      <div class=\"empty-examples\">\n        {EXAMPLES.map((example, i) => (\n          <button\n            key={i}\n            class=\"example-chip\"\n            onClick={() => onSelectExample(example)}\n          >\n            {example}\n          </button>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { useState } from 'preact/hooks';\nimport { useConfig } from './hooks/useConfig';\nimport { useChat } from './hooks/useChat';\nimport { Header } from './components/Header';\nimport { MessageList } from './components/MessageList';\nimport { InputArea } from './components/InputArea';\nimport { SettingsModal } from './components/SettingsModal';\nimport { PlanModal } from './components/PlanModal';\nimport { EmptyState } from './components/EmptyState';\n\nexport function App() {\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [suggestedText, setSuggestedText] = useState('');\n  const config = useConfig();\n  const chat = useChat();\n\n  if (config.isLoading) {\n    return (\n      <div class=\"loading-container\">\n        <div class=\"loading-spinner\" />\n      </div>\n    );\n  }\n\n  const hasMessages = chat.messages.length > 0;\n\n  return (\n    <div class=\"app\">\n      <Header\n        currentModel={config.currentModel}\n        availableModels={config.availableModels}\n        currentModelIndex={config.currentModelIndex}\n        onModelSelect={config.selectModel}\n        onNewChat={chat.clearChat}\n        onOpenSettings={() => setIsSettingsOpen(true)}\n      />\n\n      <div class=\"messages-container\">\n        {!hasMessages ? (\n          <EmptyState onSelectExample={setSuggestedText} />\n        ) : (\n          <MessageList\n            messages={chat.messages}\n            completedSteps={chat.completedSteps}\n            pendingStep={chat.pendingStep}\n          />\n        )}\n      </div>\n\n      <InputArea\n        isRunning={chat.isRunning}\n        attachedImages={chat.attachedImages}\n        onSend={chat.sendMessage}\n        onStop={chat.stopTask}\n        onAddImage={chat.addImage}\n        onRemoveImage={chat.removeImage}\n        hasModels={config.availableModels.length > 0}\n        suggestedText={suggestedText}\n        onClearSuggestion={() => setSuggestedText('')}\n      />\n\n      {isSettingsOpen && (\n        <SettingsModal\n          config={config}\n          onClose={() => setIsSettingsOpen(false)}\n        />\n      )}\n\n      {chat.pendingPlan && (\n        <PlanModal\n          plan={chat.pendingPlan}\n          onApprove={chat.approvePlan}\n          onCancel={chat.cancelPlan}\n        />\n      )}\n    </div>\n  );\n}\n","import { render } from 'preact';\nimport { App } from './App';\nimport './styles.css';\n\nrender(<App />, document.getElementById('app'));\n"],"names":["l","u","i","o","r","e","f","c","s","a","p","v","y","d","w","n","t","m","k","C","h","g","_","B","A","D","T","j","S","M","$","P","L","z","q","x","useState","useEffect","useCallback","useRef","jsxs","jsx","Fragment","render"],"mappings":"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","x_google_ignoreList":[0,1,2]}